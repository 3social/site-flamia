<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flamia - Ecosistema de IA para Real Estate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050507;
            --surface: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.08);
            --text: #E0E0E0;
            --primary: #6366F1;
            --accent: #8B5CF6;
        }

        /* Base layout */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            overflow-x: hidden;
        }

        .section-block {
            padding: 4rem 0;
        }

        @media (min-width: 768px) {
            .section-block { padding: 6rem 0; }
        }

        .section-header {
            max-width: 720px;
            margin: 0 auto 3rem;
            text-align: center;
        }

        /* Components */
        .glass-card {
            background: var(--surface);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--border);
            border-radius: 1.5rem;
            transition: all 0.35s ease;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.15);
            height: 100%;
        }
        .glass-card:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(99, 102, 241, 0.3);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
        }

        .cta-button {
            background: linear-gradient(90deg, #4F46E5, #3B82F6);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(79, 70, 229, 0.35);
        }
        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }
        .cta-button:hover::before { left: 100%; }
        .cta-button:hover { transform: translateY(-2px); box-shadow: 0 0 30px rgba(79, 70, 229, 0.55); }

        .sparkle-button {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        .sparkle-button:hover { filter: brightness(1.08); box-shadow: 0 0 24px rgba(236, 72, 153, 0.5); }

        .hero-gradient-text {
            background: linear-gradient(135deg, #E0E7FF 0%, #818CF8 50%, #4F46E5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .accent-gradient-text { background: linear-gradient(135deg, #34D399 0%, #10B981 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .danger-gradient-text { background: linear-gradient(135deg, #F87171 0%, #EF4444 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* Chat typing indicator */
        .dot-flashing { position: relative; width: 6px; height: 6px; border-radius: 5px; background-color: #fff; animation: dot-flashing 1s infinite linear alternate; animation-delay: 0.5s; }
        .dot-flashing::before, .dot-flashing::after { content: ""; display: inline-block; position: absolute; top: 0; width: 6px; height: 6px; border-radius: 5px; background-color: #fff; }
        .dot-flashing::before { left: -10px; animation: dot-flashing 1s infinite alternate; animation-delay: 0s; }
        .dot-flashing::after { left: 10px; animation: dot-flashing 1s infinite alternate; animation-delay: 1s; }
        @keyframes dot-flashing { 0% { background-color: #fff; } 50%, 100% { background-color: rgba(255, 255, 255, 0.25); } }

        /* Flip cards */
        .flip-card { perspective: 1000px; height: 320px; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1); transform-style: preserve-3d; }
        .flip-card:focus-within .flip-card-inner,
        .flip-card:hover .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 1.25rem; padding: 1.75rem; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.75rem; text-align: center; box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); }
        .flip-card-front { background: rgba(20, 20, 25, 0.9); border: 1px solid rgba(255, 255, 255, 0.05); }
        .flip-card-back { transform: rotateY(180deg); backdrop-filter: blur(12px); }
        .flip-card-back-speed { background: linear-gradient(145deg, rgba(34, 197, 94, 0.2), rgba(6, 95, 70, 0.1)); border: 1px solid rgba(74, 222, 128, 0.35); }
        .flip-card-back-filter { background: linear-gradient(145deg, rgba(79, 70, 229, 0.2), rgba(6, 182, 212, 0.1)); border: 1px solid rgba(99, 102, 241, 0.35); }
        .flip-card-back-automation { background: linear-gradient(145deg, rgba(96, 165, 250, 0.2), rgba(30, 64, 175, 0.1)); border: 1px solid rgba(147, 197, 253, 0.35); }

        /* Icon shells */
        .icon-4d-front, .icon-4d-back { width: 64px; height: 64px; border-radius: 9999px; display: flex; align-items: center; justify-content: center; }
        .icon-4d-front { background: rgba(255, 255, 255, 0.05); box-shadow: 0 0 16px rgba(255, 68, 68, 0.2), inset 0 0 10px rgba(255, 255, 255, 0.12); }
        .icon-4d-back { box-shadow: 0 0 28px rgba(99, 102, 241, 0.45), inset 0 0 14px rgba(255, 255, 255, 0.45); }
        .icon-4d-back-green { background: linear-gradient(135deg, #10B981, #34D399); }
        .icon-4d-back-indigo { background: linear-gradient(135deg, #6366F1, #818CF8); }
        .icon-4d-back-blue { background: linear-gradient(135deg, #3B82F6, #60A5FA); }

        /* Chat floating dot */
        .chat-float { animation: float 3s ease-in-out infinite; }
        @keyframes float { 0% { transform: translateY(0); } 50% { transform: translateY(-6px); } 100% { transform: translateY(0); } }

        /* Range slider */
        input[type=range] { -webkit-appearance: none; background: transparent; width: 100%; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 18px; width: 18px; border-radius: 50%; background: var(--primary); cursor: pointer; margin-top: -7px; box-shadow: 0 0 10px rgba(99, 102, 241, 0.45); }
        input[type=range]::-webkit-slider-runnable-track { height: 4px; cursor: pointer; background: #374151; border-radius: 2px; }

        /* Utility helpers */
        .badge { display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.4rem 0.9rem; border-radius: 999px; border: 1px solid rgba(99, 102, 241, 0.35); background: rgba(99, 102, 241, 0.12); color: #c7d2fe; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; font-size: 0.7rem; }

        /* Galaxy accents */
        .hero-galaxy {
            position: absolute;
            inset: -10% 0 0 0;
            pointer-events: none;
            background-image:
                radial-gradient(60% 40% at 20% 35%, rgba(124, 58, 237, 0.18), transparent 55%),
                radial-gradient(50% 30% at 70% 25%, rgba(59, 130, 246, 0.08), transparent 60%),
                radial-gradient(120% 90% at 50% 85%, rgba(15, 118, 110, 0.04), transparent 70%);
            filter: blur(3px);
            mix-blend-mode: screen;
            opacity: 0.12;
            animation: galaxy-drift 420s linear infinite;
        }

        .galaxy-horizon {
            position: fixed;
            left: 0;
            right: 0;
            bottom: -8vh;
            height: 68vh;
            pointer-events: none;
            z-index: -1;
            background-image:
                radial-gradient(50% 45% at 20% 30%, rgba(99, 102, 241, 0.2), transparent 55%),
                radial-gradient(60% 50% at 75% 25%, rgba(139, 92, 246, 0.12), transparent 60%),
                radial-gradient(90% 80% at 50% 80%, rgba(59, 130, 246, 0.09), transparent 70%),
                radial-gradient(1px 1px at 10% 15%, rgba(255, 255, 255, 0.5), transparent 55%),
                radial-gradient(1px 1px at 30% 45%, rgba(255, 255, 255, 0.35), transparent 55%),
                radial-gradient(1px 1px at 55% 20%, rgba(255, 255, 255, 0.35), transparent 55%),
                radial-gradient(1px 1px at 80% 40%, rgba(255, 255, 255, 0.4), transparent 55%);
            background-repeat: no-repeat;
            mix-blend-mode: screen;
            opacity: 0.1;
            animation: galaxy-drift 520s linear infinite reverse;
        }

        @keyframes galaxy-drift {
            0% { background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 0 0, 0 0; }
            100% { background-position: 220px 140px, -200px 120px, 140px 200px, 120px 40px, -80px 60px, 60px -40px, -100px 30px; }
        }

        @media (max-width: 767px) {
            h1 { font-size: 2.25rem; line-height: 1.2; }
            h2 { font-size: 1.9rem; }
            .section-header { margin-bottom: 2.25rem; }
            .flip-card { height: auto; }
            .flip-card-inner { transform: none !important; }
            .flip-card-back, .flip-card-front { position: relative; transform: none; }
        }
    </style>
</head>
<body class="antialiased selection:bg-indigo-500 selection:text-white">
    <!-- HEADER -->
    <header class="fixed top-0 z-40 w-full bg-[#050507]/85 backdrop-blur-xl border-b border-white/5" id="navbar">
        <nav class="container mx-auto px-5 sm:px-6 py-4 flex justify-between items-center">
            <a href="#home" class="flex items-center gap-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-lg">
                <div class="w-9 h-9 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-bold">F</div>
                <div class="text-lg sm:text-xl font-bold tracking-tight text-white">Flamia</div>
            </a>
            <div class="hidden md:flex items-center space-x-8 text-sm font-semibold">
                <a href="#pain-points" class="text-gray-300 hover:text-white transition-colors">Problemas vs Soluci√≥n</a>
                <a href="#solutions" class="text-gray-300 hover:text-white transition-colors">Soluciones</a>
                <a href="#voice-demo" class="text-indigo-300 hover:text-white transition-colors flex items-center gap-1"><span>üìû Demo Voz</span></a>
                <button onclick="openCalendar()" class="cta-button text-white px-6 py-2.5 rounded-full">Agendar Consultor√≠a</button>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-lg" aria-expanded="false" aria-controls="mobile-menu">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden bg-[#0A0A0F] border-b border-white/10 pb-4 px-6 md:hidden absolute w-full z-30">
            <div class="flex flex-col space-y-2 text-sm font-semibold">
                <a href="#pain-points" class="block py-3 text-gray-300 hover:text-white">Problemas</a>
                <a href="#solutions" class="block py-3 text-gray-300 hover:text-white">Soluciones</a>
                <a href="#voice-demo" class="block py-3 text-indigo-300">üìû Demo Voz</a>
                <button onclick="openCalendar()" class="w-full bg-indigo-600 text-center py-3 rounded-lg text-white font-bold">Agendar Consultor√≠a</button>
            </div>
        </div>
    </header>

    <main>
        <!-- HERO -->
        <section id="home" class="section-block pt-32 md:pt-44 relative overflow-hidden">
            <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[960px] h-[520px] bg-indigo-600/20 rounded-full blur-[120px] -z-10 opacity-50"></div>
            <div class="hero-galaxy" aria-hidden="true"></div>
            <div class="container mx-auto px-5 sm:px-6 text-center max-w-5xl">
                <div class="badge mb-5">‚ú® Powered by OpenAI</div>
                <h1 class="font-black text-white text-4xl sm:text-5xl lg:text-6xl leading-tight tracking-tight mb-6">
                    Tu Agencia Inmobiliaria,<br><span class="hero-gradient-text">Ahora con Superpoderes</span>.
                </h1>
                <p class="text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto mb-8 leading-relaxed">
                    Flamia despliega una fuerza laboral digital de Agentes IA que califican leads, crean listings y gestionan citas 24/7. <span class="text-white font-semibold">Escala sin l√≠mites.</span>
                </p>
                <div class="flex flex-col sm:flex-row gap-3 justify-center items-center">
                    <a href="#voice-demo" class="sparkle-button px-7 py-4 rounded-full text-base sm:text-lg shadow-lg w-full sm:w-auto flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        Probar Demo Voz
                    </a>
                    <button onclick="openCalendar()" class="px-7 py-4 rounded-full text-white border border-white/10 hover:bg-white/5 transition-colors w-full sm:w-auto text-base sm:text-lg">Agendar Demo</button>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 mt-14 border-t border-white/10 pt-10 max-w-5xl mx-auto">
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-white mb-1 counter" data-target="1250000">0</div>
                        <div class="text-xs uppercase tracking-wider text-gray-500">Leads Procesados</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-white mb-1 counter" data-target="500">0</div>
                        <div class="text-xs uppercase tracking-wider text-gray-500">Agencias Partner</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-white mb-1 flex justify-center items-center gap-1"><span class="counter" data-target="98">0</span>%</div>
                        <div class="text-xs uppercase tracking-wider text-gray-500">Tasa de Respuesta</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl md:text-4xl font-bold text-white mb-1 flex justify-center items-center gap-1">$<span class="counter" data-target="250">0</span>M+</div>
                        <div class="text-xs uppercase tracking-wider text-gray-500">Ventas Generadas</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PAIN POINTS -->
        <section id="pain-points" class="section-block bg-gradient-to-b from-[#050507] to-[#0A0A0F]">
            <div class="container mx-auto px-5 sm:px-6">
                <div class="section-header">
                    <h2 class="text-3xl md:text-5xl font-bold text-white mb-4">¬øTe suena familiar esta <span class="danger-gradient-text">Pesadilla</span>?</h2>
                    <p class="text-gray-400 text-lg">El modelo tradicional est√° roto. Pasa el cursor (o toca) para ver c√≥mo Flamia reescribe las reglas.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto">
                    <div class="flip-card focus:outline-none" tabindex="0">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <div class="icon-4d-front">
                                    <svg class="w-8 h-8 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white">El "Ghosting" de Leads</h3>
                                <p class="text-gray-400 leading-relaxed">Compras leads, llamas 2 horas despu√©s y nadie contesta. Tu dinero se va a la basura y tu equipo se frustra llamando a buzones de voz.</p>
                            </div>
                            <div class="flip-card-back flip-card-back-speed">
                                <div class="icon-4d-back icon-4d-back-green">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5l6 6m0 0l-6 6m6-6h-18" /></svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white">Respuesta en 5 Segundos</h3>
                                <p class="text-gray-100 leading-relaxed">Nuestra IA contacta al lead en el instante en que se registra. La tasa de contacto sube del 20% al <strong>95%</strong>.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card focus:outline-none" tabindex="0">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <div class="icon-4d-front">
                                    <svg class="w-8 h-8 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white">Turismo Inmobiliario</h3>
                                <p class="text-gray-400 leading-relaxed">Agentes perdiendo tardes enteras ense√±ando casas a personas que "solo est√°n mirando" o que no tienen pre-aprobaci√≥n bancaria.</p>
                            </div>
                            <div class="flip-card-back flip-card-back-filter">
                                <div class="icon-4d-back icon-4d-back-indigo">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" /></svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white">Filtro de Cualificaci√≥n</h3>
                                <p class="text-gray-100 leading-relaxed">La IA entrevista al cliente antes de agendar: presupuesto, urgencia y cr√©dito. Tu equipo solo visita con compradores <strong>reales</strong>.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card focus:outline-none" tabindex="0">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <div class="icon-4d-front">
                                    <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" /></svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white">Caos Administrativo</h3>
                                <p class="text-gray-400 leading-relaxed">Excel desactualizados, notas en servilletas y seguimientos olvidados. El 60% de las ventas se pierden por falta de follow-up.</p>
                            </div>
                            <div class="flip-card-back flip-card-back-automation">
                                <div class="icon-4d-back icon-4d-back-blue">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                                </div>
                                <h3 class="text-2xl font-bold text-white">CRM Aut√≥nomo</h3>
                                <p class="text-gray-100 leading-relaxed">La IA actualiza el CRM autom√°ticamente tras cada conversaci√≥n. Programa recordatorios y nutre al lead durante meses hasta que compre.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- VOICE DEMO -->
        <section id="voice-demo" class="section-block bg-[#08080C] border-y border-white/5">
            <div class="container mx-auto px-5 sm:px-6 grid md:grid-cols-2 gap-12 lg:gap-16 items-center">
                <div class="space-y-4">
                    <div class="badge">üìû Llamada en Vivo</div>
                    <h2 class="text-3xl md:text-5xl font-bold text-white">Tu Lead recibe una llamada <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-indigo-400">en segundos</span>.</h2>
                    <p class="text-gray-300 text-lg">Experimenta la velocidad de Flamia. Ingresa tus datos como si fueras un cliente potencial y nuestro Agente de Voz te llamar√° inmediatamente para cualificar tu inter√©s.</p>
                    <div class="p-6 bg-white/5 border border-dashed border-white/10 rounded-2xl space-y-2">
                        <h4 class="text-white font-semibold">¬øQu√© suceder√°?</h4>
                        <ul class="text-sm text-gray-400 space-y-3">
                            <li class="flex items-center gap-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span>Tu tel√©fono sonar√° en aproximadamente 15 segundos.</li>
                            <li class="flex items-center gap-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span>Hablar√°s con "Sofia", nuestra agente IA de Real Estate.</li>
                            <li class="flex items-center gap-2"><span class="w-2 h-2 bg-green-500 rounded-full"></span>Ella intentar√° agendar una visita contigo.</li>
                        </ul>
                    </div>
                </div>
                <div class="glass-card p-7 sm:p-8 border-t-4 border-t-indigo-500 relative overflow-hidden">
                    <div id="call-overlay" class="hidden absolute inset-0 bg-[#0A0A0F]/95 z-20 flex flex-col items-center justify-center text-center p-6">
                        <div class="w-20 h-20 rounded-full bg-indigo-600 flex items-center justify-center mb-6 pulse-ring">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">Iniciando Llamada...</h3>
                        <p class="text-indigo-300 mb-6">Conectando Agente IA con <span id="display-phone" class="font-mono text-white">...</span></p>
                        <p class="text-xs text-gray-500">Por favor, mant√©n tu l√≠nea libre.</p>
                        <button onclick="resetCallForm()" class="mt-8 text-sm text-gray-500 hover:text-white underline">Cancelar / Probar otro n√∫mero</button>
                    </div>
                    <form id="voice-form" class="space-y-5">
                        <div>
                            <label class="block text-xs font-medium text-gray-400 mb-1 uppercase">Nombre Completo</label>
                            <div class="relative">
                                <span class="absolute left-4 top-3.5 text-gray-500">üë§</span>
                                <input type="text" id="lead-name" required class="w-full bg-[#1A1A24] border border-gray-700 rounded-lg pl-10 pr-4 py-3 text-white focus:border-indigo-500 focus:outline-none" placeholder="Ej. Laura Mart√≠nez">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-400 mb-1 uppercase">N√∫mero de Tel√©fono</label>
                            <div class="relative">
                                <span class="absolute left-4 top-3.5 text-gray-500">üì±</span>
                                <input type="tel" id="lead-phone" required class="w-full bg-[#1A1A24] border border-gray-700 rounded-lg pl-10 pr-4 py-3 text-white focus:border-indigo-500 focus:outline-none" placeholder="+34 600 000 000">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-400 mb-1 uppercase">Correo Electr√≥nico</label>
                            <div class="relative">
                                <span class="absolute left-4 top-3.5 text-gray-500">‚úâÔ∏è</span>
                                <input type="email" id="lead-email" required class="w-full bg-[#1A1A24] border border-gray-700 rounded-lg pl-10 pr-4 py-3 text-white focus:border-indigo-500 focus:outline-none" placeholder="laura@empresa.com">
                            </div>
                        </div>
                        <button type="submit" class="w-full sparkle-button py-4 rounded-lg text-white font-bold text-lg shadow-lg flex justify-center items-center gap-2 group">
                            <span class="group-hover:animate-pulse">üìû Solicitar Llamada Ahora</span>
                        </button>
                        <p class="text-xs text-center text-gray-600">Al enviar, aceptas recibir una llamada automatizada de prueba.</p>
                    </form>
                </div>
            </div>
        </section>

        <!-- SOLUTIONS -->
        <section id="solutions" class="section-block">
            <div class="container mx-auto px-5 sm:px-6">
                <div class="section-header">
                    <h2 class="text-3xl md:text-5xl font-bold text-white mb-4">Ecosistema de <br class="hidden sm:block">Agentes Inteligentes.</h2>
                    <p class="text-gray-400 text-lg">Una suite completa de soluciones IA que automatizan cada punto de contacto con tus clientes.</p>
                </div>
                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-5 lg:gap-6">
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-green-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">üí¨</div>
                        <h3 class="text-xl font-bold text-white text-center">Agente de Texto</h3>
                        <p class="text-gray-400 text-sm text-center">Respuesta inmediata en WhatsApp y SMS. Cualifica leads y agenda visitas 24/7.</p>
                    </div>
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-blue-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">üìû</div>
                        <h3 class="text-xl font-bold text-white text-center">Agente de Voz</h3>
                        <p class="text-gray-400 text-sm text-center">Llamadas telef√≥nicas naturales para reactivar bases de datos y confirmar citas.</p>
                    </div>
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-indigo-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">üåê</div>
                        <h3 class="text-xl font-bold text-white text-center">Agente Web</h3>
                        <p class="text-gray-400 text-sm text-center">Chatbot incrustado en tu sitio que gu√≠a al usuario y captura datos en tiempo real.</p>
                    </div>
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-pink-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">üì±</div>
                        <h3 class="text-xl font-bold text-white text-center">Social Media Agent</h3>
                        <p class="text-gray-400 text-sm text-center">Responde DMs y comentarios en Instagram/Facebook. Convierte seguidores en leads.</p>
                    </div>
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-purple-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">üëÅÔ∏è</div>
                        <h3 class="text-xl font-bold text-white text-center">Vision Valuation</h3>
                        <p class="text-gray-400 text-sm text-center">Valora propiedades analizando fotos. Detecta acabados, luz y estado de conservaci√≥n.</p>
                    </div>
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-orange-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">üîÑ</div>
                        <h3 class="text-xl font-bold text-white text-center">CRM Sync</h3>
                        <p class="text-gray-400 text-sm text-center">Sincronizaci√≥n bidireccional con CRMs de preferencia.</p>
                    </div>
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-cyan-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">üóÑÔ∏è</div>
                        <h3 class="text-xl font-bold text-white text-center">Property DB Connect</h3>
                        <p class="text-gray-400 text-sm text-center">Conexi√≥n directa con MLS y bases de datos internas para cruce de oferta/demanda.</p>
                    </div>
                    <div class="glass-card p-6 flex flex-col gap-3 hover:border-yellow-500/50">
                        <div class="h-16 flex items-center justify-center text-4xl">‚ö°</div>
                        <h3 class="text-xl font-bold text-white text-center">Integraciones API</h3>
                        <p class="text-gray-400 text-sm text-center">Acceso para desarrolladores. Integra nuestra inteligencia en tus propias apps.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ROI -->
        <section id="roi-calculator" class="section-block bg-[#0A0A0F]">
            <div class="container mx-auto px-5 sm:px-6 grid lg:grid-cols-2 gap-12 items-center">
                <div class="space-y-4">
                    <h2 class="text-3xl md:text-5xl font-bold text-white">¬øCu√°nto Dinero Pierdes por <span class="text-red-400">Lentitud</span>?</h2>
                    <p class="text-gray-300 text-lg">El 78% de los leads compran con el primer agente que les responde.</p>
                    <ul class="space-y-3 text-gray-200">
                        <li class="flex items-start gap-3"><span class="text-green-400 mt-1">‚úì</span><span>Respuesta inmediata 24/7</span></li>
                        <li class="flex items-start gap-3"><span class="text-green-400 mt-1">‚úì</span><span>Seguimiento automatizado</span></li>
                    </ul>
                </div>
                <div class="glass-card p-7 sm:p-10 bg-gradient-to-b from-white/5 to-transparent border border-indigo-500/20">
                    <div class="space-y-8">
                        <div>
                            <div class="flex justify-between mb-2 text-sm font-medium text-gray-200"><label>Leads Mensuales</label><span class="text-indigo-400 font-bold" id="leads-val">500</span></div>
                            <input type="range" min="100" max="5000" value="500" step="50" id="leads-range">
                        </div>
                        <div>
                            <div class="flex justify-between mb-2 text-sm font-medium text-gray-200"><label>Valor Propiedad</label><span class="text-indigo-400 font-bold" id="price-val">$300,000</span></div>
                            <input type="range" min="100000" max="2000000" value="300000" step="50000" id="price-range">
                        </div>
                        <hr class="border-white/10">
                        <div class="text-center">
                            <div class="text-xs text-gray-400 uppercase tracking-[0.28em] mb-2">Ingreso Adicional Estimado</div>
                            <div class="text-4xl md:text-5xl font-black accent-gradient-text" id="roi-result">$450,000</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTACT -->
        <section id="contact" class="section-block bg-gradient-to-t from-indigo-900/20 to-transparent">
            <div class="container mx-auto px-5 sm:px-6 text-center">
                <h2 class="text-3xl md:text-5xl font-bold text-white mb-6">¬øListo para escalar?</h2>
                <div class="glass-card p-8 sm:p-10 max-w-2xl mx-auto">
                    <form class="space-y-4 text-left">
                        <div class="grid md:grid-cols-2 gap-4">
                            <input type="text" class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-indigo-500 focus:outline-none" placeholder="Nombre">
                            <input type="text" class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-indigo-500 focus:outline-none" placeholder="Agencia">
                        </div>
                        <input type="email" class="w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-indigo-500 focus:outline-none" placeholder="Email Corporativo">
                        <button type="button" onclick="openCalendar()" class="cta-button w-full py-4 rounded-lg text-white font-bold text-lg">Solicitar Auditor√≠a IA</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="border-t border-white/5 py-10 bg-[#050507]">
        <div class="container mx-auto px-5 sm:px-6 flex flex-col md:flex-row justify-between items-center text-gray-500 text-sm gap-3">
            <div class="font-bold text-white text-lg">Flamia</div>
            <div>&copy; 2025 Flamia Group Inc.</div>
        </div>
    </footer>

    <!-- CHAT WIDGET (OpenAI Powered) -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col items-end">
        <div id="chat-window" class="hidden w-80 md:w-96 bg-[#1A1A24] border border-white/10 rounded-2xl shadow-2xl overflow-hidden mb-4 transition-all origin-bottom-right flex flex-col">
            <div class="bg-indigo-600 p-4 flex justify-between items-center shrink-0">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-white rounded-full flex items-center justify-center"><span class="text-indigo-600 font-bold text-xs">AI</span></div>
                    <div>
                        <div class="text-white font-bold text-sm">Soporte Flamia (OpenAI)</div>
                        <div class="text-indigo-200 text-xs flex items-center gap-1"><span class="w-1.5 h-1.5 bg-green-400 rounded-full"></span> En l√≠nea</div>
                    </div>
                </div>
                <button id="close-chat" class="text-white/70 hover:text-white text-xl" aria-label="Cerrar chat">&times;</button>
            </div>
            <div class="h-64 p-4 overflow-y-auto space-y-3 bg-[#0A0A0F]" id="chat-messages"></div>
            <div class="p-3 bg-[#1A1A24] border-t border-white/5 shrink-0">
                <div class="flex gap-2">
                    <input type="text" id="chat-input" placeholder="Pregunta sobre automatizaci√≥n..." class="w-full bg-[#0A0A0F] text-white text-sm rounded-lg px-3 py-2 border border-white/10 focus:outline-none focus:border-indigo-500" onkeypress="if(event.key === 'Enter') sendChatMessage()">
                    <button onclick="sendChatMessage()" class="bg-indigo-600 text-white rounded-lg px-3 hover:bg-indigo-700" aria-label="Enviar">‚û§</button>
                </div>
            </div>
        </div>
        <button id="chat-toggle" class="chat-float w-14 h-14 bg-indigo-600 hover:bg-indigo-500 rounded-full shadow-lg flex items-center justify-center text-white transition-colors relative group" aria-label="Abrir chat">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
            <span class="absolute right-0 top-0 flex h-3 w-3">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
            </span>
        </button>
    </div>

    <!-- CALENDAR MODAL -->
    <div id="calendar-modal" class="fixed inset-0 z-[60] hidden overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-black/80 transition-opacity" aria-hidden="true" onclick="closeCalendar()"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-bottom glass-card text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full bg-[#0A0A0F] border border-white/10">
                <div class="bg-indigo-600 p-6">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg leading-6 font-bold text-white" id="modal-title">Agendar Consultor√≠a Estrat√©gica</h3>
                        <button type="button" class="text-white/80 hover:text-white" onclick="closeCalendar()" aria-label="Cerrar calendario">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                        </button>
                    </div>
                    <p class="mt-1 text-sm text-indigo-100">Sesi√≥n de 30 min con un experto en IA.</p>
                </div>
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <button class="p-1 hover:bg-white/10 rounded-full text-gray-400 hover:text-white" aria-label="Mes anterior"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button>
                        <span class="font-bold text-white">Octubre 2025</span>
                        <button class="p-1 hover:bg-white/10 rounded-full text-gray-400 hover:text-white" aria-label="Mes siguiente"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>
                    </div>
                    <div class="grid grid-cols-7 gap-1 mb-2 text-center text-xs font-medium text-gray-500">
                        <div>Lu</div><div>Ma</div><div>Mi</div><div>Ju</div><div>Vi</div><div>Sa</div><div>Do</div>
                    </div>
                    <div class="grid grid-cols-7 gap-1 mb-6 text-center" id="calendar-days"></div>
                    <div id="time-section" class="hidden animate-fade-in-up">
                        <h4 class="text-sm font-medium text-gray-300 mb-3">Horarios Disponibles (<span id="selected-date-display"></span>)</h4>
                        <div class="grid grid-cols-3 gap-2" id="time-slots"></div>
                    </div>
                    <div id="booking-form" class="hidden mt-6 pt-6 border-t border-white/10">
                        <div class="mb-4">
                            <label class="block text-xs font-medium text-gray-400 mb-1">Email para confirmaci√≥n</label>
                            <input type="email" class="w-full bg-white/5 border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-indigo-500 focus:outline-none" placeholder="tu@email.com">
                        </div>
                        <button onclick="confirmBooking()" class="w-full sparkle-button py-3 rounded-lg text-white font-bold text-sm shadow-lg">Confirmar Reserva</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const openAIKey = "";
        let selectedDayVal = null;
        let selectedTimeVal = null;

        async function callOpenAI(prompt, systemInstruction = "") {
            if (!openAIKey) {
                console.error("Error: API Key de OpenAI no configurada. Por favor, a√±√°dela en la variable 'openAIKey'.");
                addMessage("Error: La API Key de OpenAI no est√° configurada. El chat no puede funcionar.", 'ai');
                return null;
            }

            const payload = {
                model: "gpt-4o-mini",
                messages: [
                    { role: "system", content: systemInstruction },
                    { role: "user", content: prompt }
                ],
                temperature: 0.7
            };

            try {
                const response = await fetch("https://api.openai.com/v1/chat/completions", {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${openAIKey}`
                    },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`API Error: ${response.status}`);

                const data = await response.json();
                return data.choices?.[0]?.message?.content?.trim() || "Lo siento, no pude generar una respuesta.";
            } catch (error) {
                console.error("OpenAI API Error:", error);
                return "Ocurri√≥ un error al conectar con la IA.";
            }
        }

        function openCalendar() {
            document.getElementById('calendar-modal').classList.remove('hidden');
            renderCalendar();
        }

        function closeCalendar() {
            document.getElementById('calendar-modal').classList.add('hidden');
            document.getElementById('time-section').classList.add('hidden');
            document.getElementById('booking-form').classList.add('hidden');
            document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
        }

        function renderCalendar() {
            const daysContainer = document.getElementById('calendar-days');
            daysContainer.innerHTML = '';
            for(let i=0; i<2; i++) daysContainer.innerHTML += `<div></div>`;
            for(let i=1; i<=31; i++) {
                const disabledClass = i < 15 ? 'disabled' : '';
                const div = document.createElement('div');
                div.className = `calendar-day p-2 rounded-lg text-sm font-medium text-gray-300 ${disabledClass}`;
                div.innerText = i;
                if(!disabledClass) div.onclick = () => selectDate(div, i);
                daysContainer.appendChild(div);
            }
        }

        function selectDate(element, day) {
            selectedDayVal = day;
            document.querySelectorAll('.calendar-day').forEach(d => d.classList.remove('selected'));
            element.classList.add('selected');
            document.getElementById('selected-date-display').innerText = `Oct ${day}`;
            document.getElementById('time-section').classList.remove('hidden');
            renderTimeSlots();
        }

        function renderTimeSlots() {
            const container = document.getElementById('time-slots');
            container.innerHTML = '';
            ['09:00','10:00','11:30','14:00','15:30','16:00'].forEach(time => {
                const btn = document.createElement('button');
                btn.className = 'time-slot border border-gray-600 rounded-md py-2 text-xs text-gray-300 hover:bg-indigo-900/30';
                btn.innerText = time;
                btn.onclick = () => selectTime(btn);
                container.appendChild(btn);
            });
        }

        function selectTime(element) {
            selectedTimeVal = element.innerText;
            document.querySelectorAll('.time-slot').forEach(t => t.classList.remove('selected'));
            element.classList.add('selected');
            document.getElementById('booking-form').classList.remove('hidden');
        }

        function confirmBooking() {
            if (!selectedDayVal || !selectedTimeVal) {
                console.error("Por favor selecciona un d√≠a y una hora.");
                return;
            }
            const btn = document.querySelector('#booking-form button');
            const originalText = btn.innerText;
            btn.innerText = "Procesando...";
            btn.disabled = true;
            const year = "2025";
            const month = "10";
            const day = selectedDayVal.toString().padStart(2, '0');
            const [hours, minutes] = selectedTimeVal.split(':');
            const startTime = `${year}${month}${day}T${hours}${minutes}00`;
            let endH = parseInt(hours, 10);
            let endM = parseInt(minutes, 10) + 30;
            if (endM >= 60) { endH++; endM -= 60; }
            const endTime = `${year}${month}${day}T${endH.toString().padStart(2, '0')}${endM.toString().padStart(2, '0')}00`;
            const title = encodeURIComponent("Consultor√≠a IA - Flamia Group");
            const details = encodeURIComponent("Sesi√≥n estrat√©gica sobre automatizaci√≥n inmobiliaria con Flamia Group.");
            const location = encodeURIComponent("Google Meet");
            const gCalUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${title}&dates=${startTime}/${endTime}&details=${details}&location=${location}`;
            setTimeout(() => {
                window.open(gCalUrl, '_blank');
                closeCalendar();
                btn.innerText = originalText;
                btn.disabled = false;
            }, 800);
        }

        const voiceForm = document.getElementById('voice-form');
        const callOverlay = document.getElementById('call-overlay');
        const displayPhone = document.getElementById('display-phone');
        if(voiceForm) {
            voiceForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const phone = document.getElementById('lead-phone').value;
                const name = document.getElementById('lead-name').value;
                displayPhone.innerText = phone;
                callOverlay.classList.remove('hidden');
                console.log(`Simulating call to ${name} at ${phone}`);
            });
        }
        function resetCallForm() { callOverlay.classList.add('hidden'); }

        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');
        let isChatting = false;

        async function sendChatMessage() {
            const text = chatInput.value.trim();
            if (!text || isChatting) return;
            addMessage(text, 'user');
            chatInput.value = '';
            isChatting = true;
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'bg-white/10 text-white p-3 rounded-lg rounded-tl-none max-w-[85%] text-sm w-12 flex items-center justify-center';
            loadingDiv.innerHTML = '<div class="dot-flashing"></div>';
            chatMessages.appendChild(loadingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            const systemContext = `Eres el asistente virtual experto de 'Flamia Group', una empresa que vende automatizaci√≥n con Agentes de IA para el sector inmobiliario.
            Tu tono es profesional, breve y persuasivo.
            Servicios clave:
            1. Lead Responder AI (contesta leads en segundos).
            2. Vision Valuation (valoraci√≥n de casas por fotos).
            3. Voice Agents (llamadas autom√°ticas).
            Si te preguntan precios, inv√≠tales a "Agendar una consultor√≠a".`;
            const reply = await callOpenAI(text, systemContext);
            chatMessages.removeChild(loadingDiv);
            if (reply) addMessage(reply, 'ai');
            isChatting = false;
        }

        function addMessage(text, sender = 'ai') {
            const div = document.createElement('div');
            div.className = sender === 'ai'
                ? 'bg-white/10 text-white p-3 rounded-lg rounded-tl-none max-w-[85%] text-sm mb-2'
                : 'bg-indigo-600 text-white p-3 rounded-lg rounded-tr-none max-w-[85%] text-sm ml-auto mb-2';
            div.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        const chatToggle = document.getElementById('chat-toggle');
        const chatWindow = document.getElementById('chat-window');
        const closeChat = document.getElementById('close-chat');
        let hasOpened = false;
        chatToggle.addEventListener('click', () => {
            chatWindow.classList.remove('hidden');
            chatToggle.classList.add('hidden');
            if(!hasOpened) { setTimeout(() => addMessage("üëã ¬°Hola! Soy el Asistente IA de Flamia (potenciado por OpenAI). ¬øEn qu√© puedo ayudarte hoy?"), 400); hasOpened = true; }
        });
        closeChat.addEventListener('click', () => {
            chatWindow.classList.add('hidden');
            chatToggle.classList.remove('hidden');
        });

        const btn = document.getElementById('mobile-menu-button');
        const menu = document.getElementById('mobile-menu');
        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
            const expanded = btn.getAttribute('aria-expanded') === 'true';
            btn.setAttribute('aria-expanded', String(!expanded));
        });

        const counters = document.querySelectorAll('.counter');
        const animateCounters = () => {
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const speed = 200;
                const updateCount = () => {
                    const count = +counter.innerText.replace(/,/g, '');
                    const inc = target / speed;
                    if (count < target) {
                        counter.innerText = Math.ceil(count + inc).toLocaleString('en-US');
                        setTimeout(updateCount, 20);
                    } else {
                        if(target > 1000000) counter.innerText = (target / 1000000).toFixed(1) + "M";
                        else counter.innerText = target.toLocaleString('en-US');
                    }
                };
                updateCount();
            });
        }
        let animated = false;
        const statsSection = document.querySelector('.counter')?.closest('div')?.parentElement;
        if(statsSection) {
            const observer = new IntersectionObserver((entries) => {
                if(entries[0].isIntersecting && !animated) { animateCounters(); animated = true; }
            }, { threshold: 0.5 });
            observer.observe(statsSection);
        }

        const leadsRange = document.getElementById('leads-range');
        const priceRange = document.getElementById('price-range');
        const leadsVal = document.getElementById('leads-val');
        const priceVal = document.getElementById('price-val');
        const resultDisplay = document.getElementById('roi-result');
        function calculateROI() {
            if(!leadsRange) return;
            const leads = parseInt(leadsRange.value, 10);
            const price = parseInt(priceRange.value, 10);
            leadsVal.innerText = leads;
            priceVal.innerText = "$" + price.toLocaleString('en-US');
            const commissionRate = 0.03;
            const improvementRate = 0.004;
            const extraRevenue = leads * improvementRate * 12 * price * commissionRate;
            resultDisplay.innerText = "$" + Math.floor(extraRevenue).toLocaleString('en-US');
        }
        if(leadsRange) {
            leadsRange.addEventListener('input', calculateROI);
            priceRange.addEventListener('input', calculateROI);
            calculateROI();
        }
    </script>
    <div class="galaxy-horizon" aria-hidden="true"></div>

</body>
</html>
